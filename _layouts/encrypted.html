---
layout: post
---

<div id="loginbox" class="lightbox" >
  <div class="horizontal">
    <div class="vertical">
      <div class="box">
        <input style="margin: 16px; text-align: center;" id="password" type="password" placeholder="password" /> <br />
        <button id="loginbutton" type="button">Enter</button>
        <p id="wrongPassword" style="display: none">wrong password</p>
      </div>
    </div>
  </div>
</div>

fdafdkla
{{ content }}

<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>


   <script type="text/javascript" src="https://rawcdn.githack.com/chrisveness/crypto/7067ee62f18c76dd4a9d372a00e647205460b62b/sha1.js"></script>

  <script type="text/javascript">
  "use strict";


  function loadPage(pwd) {

    var hash= pwd;
    hash= Sha1.hash(pwd);
    var url= hash + "/index.html";

    // window.location= url;

    $.ajax({
      url : url,
      dataType : "html",
      success : function(data) {
        console.log("yup");
        window.location= url;

      },
      error : function(xhr, ajaxOptions, thrownError) {
        console.log("error boy");

        //parent.location.hash= hash;

        //$("#wrongPassword").show();
        $("#password").attr("placeholder","wrong password");
        $("#password").val("");
      }
    });

    console.log("PWD: " + pwd + " HASH: " + hash + " URL: " + url);
  }


  $("#loginbutton").on("click", function() {
    loadPage($("#password").val());
  });
  $("#password").keypress(function(e) {
    if (e.which == 13) {

      loadPage($("#password").val());
    }
  });
  $("#password").focus();

  </script>

  <!-- {% for js in page.jsfile %}
     <script type="text/javascript">
     {% include {{ js }} %}
     </script>
 {% endfor %} -->

</div>
